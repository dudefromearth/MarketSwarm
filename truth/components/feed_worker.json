{
  "id": "feed_worker",

  "meta": {
    "name": "DTE Feed Worker",
    "description": "Polygon â†’ Market Redis multi-DTE options + VIX feed for SPX. Maintains legacy 0DTE namespace, per-expiry EXP namespace, DTE alias pointers, multi-DTE combined snapshot, and VIX trail.",
    "kind": "basic"
  },

  "access_points": {
    "publish_to": [
      {
        "bus": "redis:market",
        "key": "SPX:latest_full"
      },
      {
        "bus": "redis:market",
        "key": "SPX:latest_full_raw"
      },
      {
        "bus": "redis:market",
        "key": "SPX:trail:*"
      },
      {
        "bus": "redis:market",
        "key": "SPX:EXP:*"
      },
      {
        "bus": "redis:market",
        "key": "SPX:DTE:*"
      },
      {
        "bus": "redis:market",
        "key": "SPX_MULTI:*"
      },
      {
        "bus": "redis:market",
        "key": "VIX:*"
      }
    ],
    "subscribe_to": []
  },

  "domain_keys": [
    "SPX",
    "SPX:EXP",
    "SPX:DTE",
    "SPX_MULTI",
    "VIX"
  ],

  "models": {
    "produces": [
      { "bus": "redis:market", "key": "SPX:chain:*" },
      { "bus": "redis:market", "key": "SPX:chain_raw:*" },
      { "bus": "redis:market", "key": "SPX:diff:*" },

      { "bus": "redis:market", "key": "SPX:EXP:*:chain:*" },
      { "bus": "redis:market", "key": "SPX:EXP:*:chain_raw:*" },
      { "bus": "redis:market", "key": "SPX:EXP:*:diff:*" },

      { "bus": "redis:market", "key": "SPX:DTE:*:latest_full" },
      { "bus": "redis:market", "key": "SPX:DTE:*:latest_full_raw" },
      { "bus": "redis:market", "key": "SPX:DTE:*:latest_diff" },

      { "bus": "redis:market", "key": "SPX_MULTI:chain:*" },
      { "bus": "redis:market", "key": "SPX_MULTI:chain_raw:*" },

      { "bus": "redis:market", "key": "VIX:latest" },
      { "bus": "redis:market", "key": "VIX:trail" }
    ],
    "consumes": []
  },

  "heartbeat": {
    "interval_sec": 2,
    "ttl_sec": 10
  },

  "dependencies": [
    "polygon_api",
    "redis:system",
    "redis:market"
  ]
}